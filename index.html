<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>データベース基礎 - 詳しく学ぶ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Helvetica Neue', Arial, 'Hiragino Kaku Gothic ProN', 'Hiragino Sans', Meiryo, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .slideshow-container {
            max-width: 1000px;
            width: 100%;
            background: white;
            border-radius: 20px;
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
            overflow: hidden;
        }

        .slide {
            display: none;
            padding: 60px 50px;
            min-height: 600px;
            animation: fadeIn 0.5s;
            overflow-y: auto;
            max-height: 80vh;
        }

        .slide.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        h1 {
            color: #5b21b6;
            font-size: 2.2rem;
            margin-bottom: 30px;
            border-bottom: 3px solid #667eea;
            padding-bottom: 15px;
        }

        h2 {
            color: #6d28d9;
            font-size: 1.8rem;
            margin: 30px 0 20px;
            padding: 10px;
            background: linear-gradient(to right, #f3f4f6, transparent);
            border-left: 4px solid #667eea;
        }

        h3 {
            color: #7c3aed;
            font-size: 1.4rem;
            margin: 25px 0 15px;
        }

        p {
            font-size: 1.15rem;
            line-height: 1.8;
            color: #374151;
            margin-bottom: 15px;
        }

        ul, ol {
            margin-left: 25px;
            margin-bottom: 20px;
        }

        li {
            font-size: 1.1rem;
            line-height: 1.8;
            color: #374151;
            margin-bottom: 12px;
        }

        .example-box {
            background: #f0f9ff;
            border: 2px solid #0ea5e9;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
        }

        .example-box h4 {
            color: #0369a1;
            margin-bottom: 10px;
        }

        .point-box {
            background: #fef3c7;
            border-left: 5px solid #f59e0b;
            padding: 15px;
            margin: 20px 0;
            border-radius: 5px;
        }

        .point-box strong {
            color: #d97706;
        }

        .simple-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background: white;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .simple-table th {
            background: #667eea;
            color: white;
            padding: 12px;
            text-align: left;
            font-weight: normal;
        }

        .simple-table td {
            border: 1px solid #e5e7eb;
            padding: 12px;
        }

        .simple-table tr:nth-child(even) {
            background: #f9fafb;
        }

        .concept-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
        }

        .concept-card h3 {
            color: white;
            margin-top: 0;
        }

        .concept-card p {
            color: white;
        }

        .visual-box {
            background: #f3f4f6;
            padding: 30px;
            border-radius: 10px;
            margin: 20px 0;
            text-align: center;
            font-family: monospace;
            font-size: 1.1rem;
        }

        .code-simple {
            background: #1e293b;
            color: #10b981;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            font-family: 'Courier New', monospace;
            font-size: 1.05rem;
            line-height: 1.6;
        }

        .code-comment {
            color: #94a3b8;
            font-style: italic;
        }

        .step-card {
            background: #f9fafb;
            border: 2px solid #e5e7eb;
            border-radius: 10px;
            padding: 20px;
            margin: 15px 0;
        }

        .step-number {
            display: inline-block;
            width: 30px;
            height: 30px;
            background: #667eea;
            color: white;
            text-align: center;
            line-height: 30px;
            border-radius: 50%;
            margin-right: 10px;
            font-weight: bold;
        }

        .highlight {
            background: #fef3c7;
            padding: 2px 6px;
            border-radius: 3px;
            font-weight: bold;
            color: #92400e;
        }

        .comparison-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 20px 0;
        }

        .comparison-card {
            padding: 20px;
            border-radius: 10px;
        }

        .comparison-card.good {
            background: #d1fae5;
            border: 2px solid #10b981;
        }

        .comparison-card.bad {
            background: #fee2e2;
            border: 2px solid #ef4444;
        }

        .controls {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px 50px;
            background: #f3f4f6;
            border-top: 2px solid #e5e7eb;
        }

        .nav-button {
            background: #667eea;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s;
        }

        .nav-button:hover {
            background: #5b21b6;
            transform: translateY(-2px);
        }

        .nav-button:disabled {
            background: #9ca3af;
            cursor: not-allowed;
            transform: none;
        }

        .slide-counter {
            color: #6b7280;
            font-weight: bold;
            font-size: 1.1rem;
        }

        .icon {
            font-size: 2rem;
            margin-bottom: 10px;
        }

        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .feature-card {
            background: #f9fafb;
            padding: 20px;
            border-radius: 10px;
            border-left: 4px solid #667eea;
            text-align: center;
        }

        .feature-card h4 {
            color: #6d28d9;
            margin-bottom: 10px;
        }

	        .performance-metric {
            display: inline-block;
            background: #1f2937;
            color: #10b981;
            padding: 5px 10px;
            border-radius: 5px;
            font-family: monospace;
            margin: 0 5px;
        }
        .step-box {
            display: flex;
            align-items: center;
            margin: 20px 0;
            padding: 20px;
            background: #f9fafb;
            border-radius: 10px;
        }
        .step-number {
            background: #667eea;
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin-right: 20px;
            flex-shrink: 0;
        }
        .example-scenario {
            background: linear-gradient(135deg, #ede9fe 0%, #ddd6fe 100%);
            padding: 25px;
            border-radius: 10px;
            margin: 20px 0;
            border: 2px dashed #8b5cf6;
        }
        .pro { color: #10b981; font-weight: bold; }
        .con { color: #ef4444; font-weight: bold; }

    </style>
</head>
<body>
    <div class="slideshow-container">
        <!-- スライド1: はじめに -->
        <div class="slide active">
            <h1>📚 データベースを基礎から学ぼう</h1>
            
            <div class="concept-card">
                <h3>このスライドで学べること</h3>
                <p>データベースについて、専門知識がなくても理解できるように、基礎から丁寧に解説します。実例を交えながら、一つずつ確実に理解していきましょう。</p>
            </div>

            <h2>なぜデータベースを学ぶのか？</h2>
            
            <p>現代のアプリケーションやWebサービスは、ほぼすべてデータベースを使用しています。</p>
            
            <div class="example-box">
                <h4>📱 身近なデータベースの例</h4>
                <ul>
                    <li><strong>SNS：</strong>あなたの投稿、友達リスト、いいね！の情報</li>
                    <li><strong>ネットショッピング：</strong>商品情報、在庫、注文履歴</li>
                    <li><strong>銀行：</strong>口座残高、取引履歴、送金記録</li>
                    <li><strong>スマホの連絡先：</strong>名前、電話番号、メールアドレス</li>
                </ul>
            </div>

            <div class="point-box">
                <strong>💡 ポイント：</strong>
                データベースは「大量のデータを整理して保管し、必要な時にすぐ取り出せるようにする仕組み」です。
                図書館の本棚と目録カードのような関係をコンピュータで実現したものと考えてください。
            </div>

            <h3>学習の進め方</h3>
            <ol>
                <li>まず「データとは何か」を理解する</li>
                <li>データを「表」で管理する方法を学ぶ</li>
                <li>データを操作する基本的な方法を習得する</li>
                <li>実際の例を通して理解を深める</li>
            </ol>
        </div>

        <!-- スライド2: データベースとは -->
        <div class="slide">
            <h1>🗄️ データベースって何？</h1>
            
            <h2>データベースを理解する3つのポイント</h2>
            
            <div class="step-card">
                <h3><span class="step-number">1</span>データを整理して保存</h3>
                <p>バラバラのデータを、決まった形式で整理して保存します。</p>
                <div class="example-box">
                    <h4>例：住所録の場合</h4>
                    <p>❌ バラバラなメモ：「田中さん 090-1234-5678」「鈴木さんは東京」</p>
                    <p>✅ 整理されたデータ：名前、電話番号、住所の欄を決めて記録</p>
                </div>
            </div>

            <div class="step-card">
                <h3><span class="step-number">2</span>複数の人が同時に使える</h3>
                <p>一つのデータベースを、多くの人が同時に見たり更新したりできます。</p>
                <div class="example-box">
                    <h4>例：会社の在庫管理</h4>
                    <p>営業部：在庫を確認して注文を受ける</p>
                    <p>倉庫：商品を出荷して在庫を減らす</p>
                    <p>仕入部：在庫が少なくなったら発注</p>
                    <p>→ 全員が同じデータを見て仕事ができる！</p>
                </div>
            </div>

            <div class="step-card">
                <h3><span class="step-number">3</span>データの安全性を保つ</h3>
                <p>大切なデータを守り、間違いが起きないようにします。</p>
                <ul>
                    <li>自動でバックアップを取る</li>
                    <li>権限がない人は見られない・変更できない</li>
                    <li>同時に更新しても矛盾が起きない</li>
                </ul>
            </div>

            <h2>ファイルとデータベースの違い</h2>
            
            <div class="comparison-grid">
                <div class="comparison-card bad">
                    <h4>❌ Excelファイルで管理</h4>
                    <ul>
                        <li>同時に一人しか編集できない</li>
                        <li>ファイルが壊れたら全部消える</li>
                        <li>大量のデータだと遅い</li>
                        <li>誰でもコピーできてしまう</li>
                    </ul>
                </div>
                <div class="comparison-card good">
                    <h4>✅ データベースで管理</h4>
                    <ul>
                        <li>多人数で同時に使える</li>
                        <li>自動バックアップで安心</li>
                        <li>大量データも高速処理</li>
                        <li>アクセス権限を細かく設定</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- スライド3: テーブルの概念 -->
        <div class="slide">
            <h1>📊 テーブル（表）でデータを管理する</h1>
            
            <h2>テーブルとは？</h2>
            <p>データベースでは、データを<span class="highlight">テーブル（表）</span>の形で保存します。
            Excelの表をイメージすると分かりやすいでしょう。</p>

            <h3>社員テーブルの例</h3>
            <table class="simple-table">
                <thead>
                    <tr>
                        <th>社員番号</th>
                        <th>名前</th>
                        <th>部署</th>
                        <th>入社年月日</th>
                        <th>給与</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>E001</td>
                        <td>田中太郎</td>
                        <td>営業部</td>
                        <td>2020-04-01</td>
                        <td>300,000円</td>
                    </tr>
                    <tr>
                        <td>E002</td>
                        <td>鈴木花子</td>
                        <td>経理部</td>
                        <td>2019-04-01</td>
                        <td>320,000円</td>
                    </tr>
                    <tr>
                        <td>E003</td>
                        <td>佐藤次郎</td>
                        <td>開発部</td>
                        <td>2021-04-01</td>
                        <td>350,000円</td>
                    </tr>
                </tbody>
            </table>

            <h2>テーブルの構成要素</h2>
            
            <div class="feature-grid">
                <div class="feature-card">
                    <div class="icon">📝</div>
                    <h4>レコード（行）</h4>
                    <p>1件分のデータ</p>
                    <p>例：田中太郎さんの情報1行</p>
                </div>
                <div class="feature-card">
                    <div class="icon">📋</div>
                    <h4>フィールド（列）</h4>
                    <p>データの項目</p>
                    <p>例：名前、部署、給与など</p>
                </div>
                <div class="feature-card">
                    <div class="icon">🔑</div>
                    <h4>主キー</h4>
                    <p>各レコードを識別する値</p>
                    <p>例：社員番号（重複しない）</p>
                </div>
            </div>

            <div class="point-box">
                <strong>💡 重要な決まりごと：</strong>
                <ul>
                    <li>1つのテーブルには同じ種類のデータだけを入れる（社員情報なら社員だけ）</li>
                    <li>各列には決まった種類のデータだけ入れる（給与の列に文字は入れない）</li>
                    <li>主キーは絶対に重複してはいけない（同じ社員番号は存在しない）</li>
                </ul>
            </div>

            <h3>なぜテーブル形式なのか？</h3>
            <ul>
                <li><strong>見やすい：</strong>データが整理されていて一目で分かる</li>
                <li><strong>検索しやすい：</strong>特定の条件でデータを探しやすい</li>
                <li><strong>集計しやすい：</strong>合計や平均などの計算が簡単</li>
                <li><strong>更新しやすい：</strong>特定のデータだけを変更できる</li>
            </ul>
        </div>

        <!-- スライド4: データ型の説明 -->
        <div class="slide">
            <h1>🔤 データ型を理解しよう</h1>
            
            <h2>データ型とは？</h2>
            <p>データベースでは、各列（フィールド）にどんな種類のデータを入れるか、あらかじめ決めておきます。
            これを<span class="highlight">データ型</span>といいます。</p>

            <div class="example-box">
                <h4>なぜデータ型が必要？</h4>
                <p>例えば「年齢」の欄に「二十歳」と文字で入れてしまうと...</p>
                <ul>
                    <li>平均年齢が計算できない</li>
                    <li>年齢順に並べ替えができない</li>
                    <li>「20歳以上」という条件で検索できない</li>
                </ul>
                <p>→ だから「年齢は数字」と決めておく必要があります！</p>
            </div>

            <h2>主なデータ型</h2>

            <div class="step-card">
                <h3>📝 文字型（VARCHAR, TEXT）</h3>
                <p>名前、住所、コメントなどの文字を保存</p>
                <ul>
                    <li><strong>VARCHAR(50)：</strong>最大50文字まで（名前など短い文字）</li>
                    <li><strong>TEXT：</strong>長い文章（自己紹介、商品説明など）</li>
                </ul>
                <div class="code-simple">
                    名前: VARCHAR(100)  <span class="code-comment">-- 最大100文字</span><br>
                    自己紹介: TEXT      <span class="code-comment">-- 長文OK</span>
                </div>
            </div>

            <div class="step-card">
                <h3>🔢 数値型（INT, DECIMAL）</h3>
                <p>年齢、個数、金額などの数字を保存</p>
                <ul>
                    <li><strong>INT：</strong>整数（1, 100, -50など）</li>
                    <li><strong>DECIMAL(10,2)：</strong>小数（1234.56など、全10桁で小数点以下2桁）</li>
                </ul>
                <div class="code-simple">
                    年齢: INT           <span class="code-comment">-- 25, 30など</span><br>
                    価格: DECIMAL(8,2)  <span class="code-comment">-- 12345.67円など</span>
                </div>
            </div>

            <div class="step-card">
                <h3>📅 日付・時刻型（DATE, DATETIME）</h3>
                <p>誕生日、登録日時などを保存</p>
                <ul>
                    <li><strong>DATE：</strong>日付のみ（2024-01-15）</li>
                    <li><strong>DATETIME：</strong>日付と時刻（2024-01-15 14:30:00）</li>
                </ul>
                <div class="code-simple">
                    誕生日: DATE        <span class="code-comment">-- 1990-05-20</span><br>
                    注文日時: DATETIME  <span class="code-comment">-- 2024-01-15 10:30:45</span>
                </div>
            </div>

            <h3>実際のテーブル設計例</h3>
            <table class="simple-table">
                <thead>
                    <tr>
                        <th>列名</th>
                        <th>データ型</th>
                        <th>説明</th>
                        <th>例</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>user_id</td>
                        <td>INT</td>
                        <td>ユーザーID（主キー）</td>
                        <td>1, 2, 3...</td>
                    </tr>
                    <tr>
                        <td>name</td>
                        <td>VARCHAR(50)</td>
                        <td>氏名</td>
                        <td>田中太郎</td>
                    </tr>
                    <tr>
                        <td>email</td>
                        <td>VARCHAR(255)</td>
                        <td>メールアドレス</td>
                        <td><a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="d2a6b3bcb3b9b392b7aab3bfa2beb7fcb1bdbf">[email&#160;protected]</a></td>
                    </tr>
                    <tr>
                        <td>age</td>
                        <td>INT</td>
                        <td>年齢</td>
                        <td>25</td>
                    </tr>
                    <tr>
                        <td>created_at</td>
                        <td>DATETIME</td>
                        <td>登録日時</td>
                        <td>2024-01-15 10:30:00</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- スライド5: SQLの基本 - SELECT -->
        <div class="slide">
            <h1>🔍 データを取り出す - SELECT文</h1>
            
            <h2>SQLとは？</h2>
            <p>SQL（エスキューエル）は、データベースと対話するための言語です。
            「このデータを見せて」「このデータを更新して」といった指示を出すために使います。</p>

            <div class="point-box">
                <strong>💡 SQLは英語に似ています：</strong><br>
                SELECT（選ぶ） FROM（〜から） WHERE（〜の条件で）<br>
                英語の文章のように読めるので、慣れれば簡単です！
            </div>

            <h2>基本のSELECT文</h2>

            <h3>1. 全データを取得</h3>
            <div class="code-simple">
                SELECT * FROM 社員;<br>
                <span class="code-comment">-- 「社員テーブルから全て（*）を選んで表示」</span>
            </div>
            
            <p>結果：社員テーブルの全データが表示されます</p>

            <h3>2. 特定の列だけ取得</h3>
            <div class="code-simple">
                SELECT 名前, 部署 FROM 社員;<br>
                <span class="code-comment">-- 「社員テーブルから名前と部署だけを選んで表示」</span>
            </div>
            
            <table class="simple-table">
                <thead>
                    <tr>
                        <th>名前</th>
                        <th>部署</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>田中太郎</td>
                        <td>営業部</td>
                    </tr>
                    <tr>
                        <td>鈴木花子</td>
                        <td>経理部</td>
                    </tr>
                    <tr>
                        <td>佐藤次郎</td>
                        <td>開発部</td>
                    </tr>
                </tbody>
            </table>

            <h3>3. 条件を指定して取得（WHERE）</h3>
            <div class="code-simple">
                SELECT * FROM 社員 WHERE 部署 = '営業部';<br>
                <span class="code-comment">-- 「社員テーブルから部署が営業部の人だけを表示」</span>
            </div>

            <div class="example-box">
                <h4>よく使う条件の書き方</h4>
                <ul>
                    <li><code>=</code> : 等しい（部署 = '営業部'）</li>
                    <li><code>></code> : より大きい（給与 > 300000）</li>
                    <li><code>>=</code> : 以上（年齢 >= 20）</li>
                    <li><code><</code> : より小さい（在庫 < 10）</li>
                    <li><code>LIKE</code> : 部分一致（名前 LIKE '%田%'）← 田を含む</li>
                </ul>
            </div>

            <h3>4. 複数の条件（AND, OR）</h3>
            <div class="code-simple">
                SELECT * FROM 社員 <br>
                WHERE 部署 = '営業部' AND 給与 >= 300000;<br>
                <span class="code-comment">-- 営業部で、かつ給与が30万円以上の人</span><br><br>
                
                SELECT * FROM 社員 <br>
                WHERE 部署 = '営業部' OR 部署 = '経理部';<br>
                <span class="code-comment">-- 営業部または経理部の人</span>
            </div>

            <h3>5. 並び替え（ORDER BY）</h3>
            <div class="code-simple">
                SELECT * FROM 社員 ORDER BY 給与 DESC;<br>
                <span class="code-comment">-- 給与の高い順（降順）に並べる</span><br><br>
                
                SELECT * FROM 社員 ORDER BY 入社年月日;<br>
                <span class="code-comment">-- 入社日の古い順（昇順）に並べる ※ASCは省略可</span>
            </div>

            <div class="point-box">
                <strong>覚えておこう：</strong>
                <ul>
                    <li>DESC = Descending（降順・大きい順）</li>
                    <li>ASC = Ascending（昇順・小さい順）※デフォルト</li>
                </ul>
            </div>
        </div>

        <!-- スライド6: データの追加・更新・削除 -->
        <div class="slide">
            <h1>✏️ データを変更する - INSERT, UPDATE, DELETE</h1>
            
            <h2>データの追加（INSERT）</h2>
            <p>新しいデータをテーブルに追加します。</p>

            <h3>基本的な書き方</h3>
            <div class="code-simple">
                INSERT INTO 社員 (社員番号, 名前, 部署, 入社年月日, 給与)<br>
                VALUES ('E004', '山田四郎', '営業部', '2024-01-15', 280000);<br>
                <span class="code-comment">-- 新しい社員を1人追加</span>
            </div>

            <div class="example-box">
                <h4>📝 INSERT文のルール</h4>
                <ul>
                    <li>列名と値の順番を合わせる</li>
                    <li>文字はシングルクォート（'）で囲む</li>
                    <li>数字はそのまま書く</li>
                    <li>日付も文字として扱う（'2024-01-15'）</li>
                </ul>
            </div>

            <h3>複数データの追加</h3>
            <div class="code-simple">
                INSERT INTO 社員 (社員番号, 名前, 部署, 入社年月日, 給与)<br>
                VALUES <br>
                  ('E005', '高橋五郎', '開発部', '2024-02-01', 320000),<br>
                  ('E006', '伊藤六子', '経理部', '2024-02-01', 290000);<br>
                <span class="code-comment">-- 2人まとめて追加</span>
            </div>

            <h2>データの更新（UPDATE）</h2>
            <p>既存のデータを変更します。</p>

            <h3>基本的な書き方</h3>
            <div class="code-simple">
                UPDATE 社員 <br>
                SET 給与 = 330000 <br>
                WHERE 社員番号 = 'E001';<br>
                <span class="code-comment">-- 田中太郎さんの給与を33万円に変更</span>
            </div>

            <h3>複数の項目を更新</h3>
            <div class="code-simple">
                UPDATE 社員 <br>
                SET 部署 = '経理部', 給与 = 350000 <br>
                WHERE 社員番号 = 'E003';<br>
                <span class="code-comment">-- 部署と給与を同時に変更</span>
            </div>

            <div class="point-box">
                <strong>⚠️ 注意：WHERE句を忘れると大変！</strong><br>
                <code>UPDATE 社員 SET 給与 = 0;</code><br>
                WHERE句がないと、全員の給与が0円になってしまいます！<br>
                必ず条件を指定しましょう。
            </div>

            <h2>データの削除（DELETE）</h2>
            <p>不要なデータを削除します。</p>

            <h3>基本的な書き方</h3>
            <div class="code-simple">
                DELETE FROM 社員 <br>
                WHERE 社員番号 = 'E006';<br>
                <span class="code-comment">-- 伊藤六子さんのデータを削除</span>
            </div>

            <div class="point-box">
                <strong>⚠️ これも注意：</strong><br>
                <code>DELETE FROM 社員;</code><br>
                WHERE句がないと、全データが削除されます！<br>
                削除は取り消せないので、特に慎重に。
            </div>

            <h3>安全な削除の手順</h3>
            <ol>
                <li>まずSELECTで削除対象を確認</li>
                <li>件数が正しいかチェック</li>
                <li>バックアップを取る（重要なデータの場合）</li>
                <li>DELETEを実行</li>
            </ol>

            <div class="code-simple">
                <span class="code-comment">-- 1. まず確認</span><br>
                SELECT * FROM 社員 WHERE 入社年月日 < '2020-01-01';<br><br>
                <span class="code-comment">-- 2. 件数確認</span><br>
                SELECT COUNT(*) FROM 社員 WHERE 入社年月日 < '2020-01-01';<br><br>
                <span class="code-comment">-- 3. 問題なければ削除</span><br>
                DELETE FROM 社員 WHERE 入社年月日 < '2020-01-01';
            </div>
        </div>

        <!-- スライド7: リレーショナルデータベースの理論 -->
        <div class="slide">
            <h1>🔗 リレーショナルデータベースとは</h1>
            
            <h2>リレーショナルデータベースの基本概念</h2>
            
            <div class="concept-card">
                <h3>リレーショナル（関係）モデルとは？</h3>
                <p>1970年にE.F.コッド博士が提唱した、データを「表（テーブル）」と「表の関係」で管理する方法です。</p>
                <p>「リレーショナル」= 「関係がある」という意味で、複数のテーブルを関連付けて使うデータベースです。</p>
            </div>

            <h3>なぜリレーショナルデータベースを使うのか？</h3>
            
            <div class="feature-grid">
                <div class="feature-card">
                    <h4>📊 データの整合性</h4>
                    <p>データの矛盾や重複を防ぎ、常に正しい状態を保てます</p>
                </div>
                <div class="feature-card">
                    <h4>🔍 柔軟な検索</h4>
                    <p>SQLを使って様々な角度からデータを検索・分析できます</p>
                </div>
                <div class="feature-card">
                    <h4>🛡️ データの独立性</h4>
                    <p>アプリケーションとデータが独立し、変更に強い設計が可能</p>
                </div>
                <div class="feature-card">
                    <h4>👥 同時アクセス</h4>
                    <p>複数のユーザーが同時にアクセスしても問題なく動作</p>
                </div>
            </div>

            <h2>リレーショナルデータベースの構成要素</h2>
            
            <div class="step-card">
                <h3>1. リレーション（関係）= テーブル</h3>
                <p>数学的には「関係」と呼びますが、実際は「テーブル（表）」のことです。</p>
                <table class="simple-table">
                    <caption>社員リレーション（社員テーブル）</caption>
                    <thead>
                        <tr>
                            <th>社員ID</th>
                            <th>氏名</th>
                            <th>部署コード</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>001</td>
                            <td>田中太郎</td>
                            <td>D01</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <div class="step-card">
                <h3>2. タプル = レコード（行）</h3>
                <p>1件分のデータのことです。上の例では「001, 田中太郎, D01」が1つのタプルです。</p>
            </div>

            <div class="step-card">
                <h3>3. アトリビュート = フィールド（列）</h3>
                <p>データの項目のことです。「社員ID」「氏名」「部署コード」がアトリビュートです。</p>
            </div>

            <h3>リレーショナルデータベースの制約</h3>
            
            <div class="point-box">
                <strong>💡 重要な制約（ルール）：</strong>
                <ul>
                    <li><strong>一意性制約：</strong>同じレコードは存在しない（主キーで識別）</li>
                    <li><strong>参照整合性制約：</strong>関連するデータは必ず存在する（外部キー）</li>
                    <li><strong>エンティティ整合性：</strong>主キーはNULL（空）にできない</li>
                </ul>
            </div>

            <div class="example-box">
                <h4>参照整合性の例</h4>
                <p>社員テーブルの「部署コード：D01」は、部署テーブルに「D01」が存在しなければならない</p>
                <p>→ 存在しない部署に社員を所属させることはできない！</p>
            </div>
        </div>

        <!-- スライド8: ER図の詳細 -->
        <div class="slide">
            <h1>📐 ER図でデータベースを設計する</h1>
            
            <h2>ER図（Entity-Relationship Diagram）とは？</h2>
            
            <div class="concept-card">
                <h3>データベースの設計図</h3>
                <p>ER図は、データベースに何を保存し、それらがどう関係しているかを図で表したものです。</p>
                <p>家を建てる前の設計図のように、データベースを作る前に全体像を把握するために作成します。</p>
            </div>

            <h3>ER図の3つの基本要素</h3>
            
            <div class="feature-grid">
                <div class="feature-card">
                    <div class="visual-box" style="background: #e0f2fe;">
                        <p style="font-size: 1.5rem;">□</p>
                    </div>
                    <h4>エンティティ（実体）</h4>
                    <p>管理したい「もの」</p>
                    <p>例：社員、商品、顧客</p>
                </div>
                <div class="feature-card">
                    <div class="visual-box" style="background: #fef3c7;">
                        <p style="font-size: 1.5rem;">○</p>
                    </div>
                    <h4>アトリビュート（属性）</h4>
                    <p>エンティティの特徴</p>
                    <p>例：氏名、価格、住所</p>
                </div>
                <div class="feature-card">
                    <div class="visual-box" style="background: #dcfce7;">
                        <p style="font-size: 1.5rem;">◇</p>
                    </div>
                    <h4>リレーションシップ（関連）</h4>
                    <p>エンティティ間の関係</p>
                    <p>例：購入する、所属する</p>
                </div>
            </div>

            <h2>ER図の書き方 - 実例で学ぶ</h2>
            
            <div class="example-box">
                <h4>🏢 会社の組織を表すER図</h4>
                <div class="visual-box">
                    <pre style="font-size: 1rem; line-height: 1.5;">
    [社員]━━━━━◇所属する◇━━━━━[部署]
      │                           │
    ○社員ID                    ○部署ID
    ○氏名                      ○部署名
    ○入社日                    ○フロア
    
    [社員]━━━━━◇参加する◇━━━━━[プロジェクト]
      │          (多対多)            │
                                  ○プロジェクトID
                                  ○プロジェクト名
                                  ○開始日
                    </pre>
                </div>
            </div>

            <h3>カーディナリティ（多重度）の表現</h3>
            
            <div class="step-card">
                <h3>1対1の関係</h3>
                <p>1つに対して1つだけ関連</p>
                <div class="visual-box">
                    <p>社員 ━━━ 1 ━━━ 1 ━━━ 社員証</p>
                </div>
                <p>例：1人の社員は1枚の社員証を持つ</p>
            </div>

            <div class="step-card">
                <h3>1対多の関係</h3>
                <p>1つに対して複数が関連</p>
                <div class="visual-box">
                    <p>部署 ━━━ 1 ━━━ * ━━━ 社員</p>
                </div>
                <p>例：1つの部署に複数の社員が所属</p>
            </div>

            <div class="step-card">
                <h3>多対多の関係</h3>
                <p>複数対複数で関連</p>
                <div class="visual-box">
                    <p>学生 ━━━ * ━━━ * ━━━ 授業</p>
                </div>
                <p>例：学生は複数の授業を受講、授業は複数の学生が参加</p>
            </div>

            <h2>なぜER図を作るのか？</h2>
            
            <div class="point-box">
                <strong>💡 ER図を作る目的：</strong>
                <ul>
                    <li>データベースの全体像を把握できる</li>
                    <li>必要なテーブルと関連が明確になる</li>
                    <li>チームで設計を共有・議論できる</li>
                    <li>後から見ても理解しやすい</li>
                    <li>設計ミスを事前に発見できる</li>
                </ul>
            </div>
        </div>

        <!-- スライド9: 正規化の詳細説明 -->
        <div class="slide">
            <h1>🔧 正規化でデータベースを最適化する</h1>
            
            <h2>正規化とは？</h2>
            
            <div class="concept-card">
                <h3>データの重複と矛盾をなくす技術</h3>
                <p>正規化は、データベースの設計を整理して、データの重複を排除し、更新時の問題を防ぐための手法です。</p>
                <p>「同じデータを複数の場所に持たない」が基本原則です。</p>
            </div>

            <h2>なぜ正規化が必要なのか？</h2>
            
            <div class="example-box">
                <h4>❌ 正規化されていないテーブルの問題</h4>
                <table class="simple-table">
                    <thead>
                        <tr>
                            <th>注文ID</th>
                            <th>顧客名</th>
                            <th>顧客住所</th>
                            <th>商品名</th>
                            <th>商品価格</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>001</td>
                            <td>田中太郎</td>
                            <td>東京都渋谷区1-1</td>
                            <td>ノートPC</td>
                            <td>100,000円</td>
                        </tr>
                        <tr>
                            <td>002</td>
                            <td>田中太郎</td>
                            <td>東京都渋谷区1-1</td>
                            <td>マウス</td>
                            <td>3,000円</td>
                        </tr>
                        <tr>
                            <td>003</td>
                            <td>田中太郎</td>
                            <td>東京都渋谷区1-2</td>
                            <td>キーボード</td>
                            <td>5,000円</td>
                        </tr>
                    </tbody>
                </table>
                
                <div class="point-box" style="background: #fee2e2; border-color: #ef4444;">
                    <strong>問題点：</strong>
                    <ul>
                        <li>田中太郎の住所が2つある（どちらが正しい？）</li>
                        <li>住所変更時、全レコードを更新必要</li>
                        <li>商品価格が変わったら全注文を更新？</li>
                    </ul>
                </div>
            </div>

            <h2>正規化の段階</h2>
            
            <div class="step-card">
                <h3>📝 第1正規形（1NF）</h3>
                <p><strong>目的：</strong>繰り返し項目をなくす</p>
                
                <div class="comparison-grid">
                    <div class="comparison-card bad">
                        <h4>Before</h4>
                        <table class="simple-table">
                            <tr>
                                <th>顧客</th>
                                <th>電話番号</th>
                            </tr>
                            <tr>
                                <td>田中</td>
                                <td>090-1111-1111,<br>03-2222-2222</td>
                            </tr>
                        </table>
                    </div>
                    <div class="comparison-card good">
                        <h4>After</h4>
                        <table class="simple-table">
                            <tr>
                                <th>顧客</th>
                                <th>電話番号</th>
                            </tr>
                            <tr>
                                <td>田中</td>
                                <td>090-1111-1111</td>
                            </tr>
                            <tr>
                                <td>田中</td>
                                <td>03-2222-2222</td>
                            </tr>
                        </table>
                    </div>
                </div>
            </div>

            <div class="step-card">
                <h3>📋 第2正規形（2NF）</h3>
                <p><strong>目的：</strong>部分的な依存をなくす（主キーの一部だけに依存する項目を分離）</p>
                
                <div class="example-box">
                    <h4>例：注文明細テーブル</h4>
                    <p>主キー：{注文ID, 商品ID}</p>
                    <p>❌ 商品名は商品IDだけで決まる → 別テーブルへ</p>
                    <p>✅ 数量は注文IDと商品IDの両方で決まる → そのまま</p>
                </div>
            </div>

            <div class="step-card">
                <h3>📊 第3正規形（3NF）</h3>
                <p><strong>目的：</strong>間接的な依存をなくす（主キー以外の項目に依存する項目を分離）</p>
                
                <div class="example-box">
                    <h4>例：社員テーブル</h4>
                    <p>社員ID → 部署ID → 部署名</p>
                    <p>部署名は部署IDで決まる（社員IDとは間接的な関係）</p>
                    <p>→ 部署名は部署テーブルに分離</p>
                </div>
            </div>

            <h3>正規化の結果</h3>
            
            <div class="feature-grid">
                <div class="feature-card">
                    <h4>顧客テーブル</h4>
                    <ul>
                        <li>顧客ID（主キー）</li>
                        <li>顧客名</li>
                        <li>住所</li>
                    </ul>
                </div>
                <div class="feature-card">
                    <h4>商品テーブル</h4>
                    <ul>
                        <li>商品ID（主キー）</li>
                        <li>商品名</li>
                        <li>価格</li>
                    </ul>
                </div>
                <div class="feature-card">
                    <h4>注文テーブル</h4>
                    <ul>
                        <li>注文ID（主キー）</li>
                        <li>顧客ID（外部キー）</li>
                        <li>注文日</li>
                    </ul>
                </div>
                <div class="feature-card">
                    <h4>注文明細テーブル</h4>
                    <ul>
                        <li>注文ID（外部キー）</li>
                        <li>商品ID（外部キー）</li>
                        <li>数量</li>
                    </ul>
                </div>
            </div>

            <div class="point-box">
                <strong>💡 正規化のメリット：</strong>
                <ul>
                    <li>データの重複がなくなる → 容量節約</li>
                    <li>更新が1箇所で済む → 保守が楽</li>
                    <li>データの矛盾が起きない → 信頼性向上</li>
                </ul>
                <strong>⚠️ 注意点：</strong>
                <ul>
                    <li>テーブル数が増える → JOINが必要</li>
                    <li>過度な正規化は逆に複雑になる</li>
                    <li>パフォーマンスを考慮して適度に</li>
                </ul>
            </div>
        </div>

        <!-- スライド10: 外部キーと関係性 -->
        <div class="slide">
            <h1>🔗 テーブル間の関係を正しく設計する</h1>
            
            <h2>なぜテーブルを分けるのか？</h2>
            
            <div class="example-box">
                <h4>問題：1つのテーブルに全部入れると...</h4>
                <table class="simple-table">
                    <thead>
                        <tr>
                            <th>社員名</th>
                            <th>部署名</th>
                            <th>部署の場所</th>
                            <th>部署の電話</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>田中太郎</td>
                            <td>営業部</td>
                            <td>3階</td>
                            <td>03-1234-5678</td>
                        </tr>
                        <tr>
                            <td>鈴木花子</td>
                            <td>営業部</td>
                            <td>3階</td>
                            <td>03-1234-5678</td>
                        </tr>
                    </tbody>
                </table>
                <p>→ 営業部の電話番号が変わったら、全員分を更新しないといけない！</p>
            </div>

            <h3>解決策：テーブルを分ける</h3>
            
            <div class="comparison-grid">
                <div class="feature-card">
                    <h4>社員テーブル</h4>
                    <table class="simple-table">
                        <thead>
                            <tr>
                                <th>社員ID</th>
                                <th>名前</th>
                                <th>部署ID</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>E001</td>
                                <td>田中太郎</td>
                                <td>D01</td>
                            </tr>
                            <tr>
                                <td>E002</td>
                                <td>鈴木花子</td>
                                <td>D01</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div class="feature-card">
                    <h4>部署テーブル</h4>
                    <table class="simple-table">
                        <thead>
                            <tr>
                                <th>部署ID</th>
                                <th>部署名</th>
                                <th>場所</th>
                                <th>電話</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>D01</td>
                                <td>営業部</td>
                                <td>3階</td>
                                <td>03-1234-5678</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <div class="point-box">
                <strong>💡 メリット：</strong>
                <ul>
                    <li>データの重複がなくなる</li>
                    <li>更新が1箇所で済む</li>
                    <li>データの整合性が保たれる</li>
                </ul>
            </div>

            <h2>テーブルを結合する（JOIN）</h2>
            <p>分けたテーブルを、必要に応じて結合して使います。</p>

            <h3>基本的なJOIN</h3>
            <div class="code-simple">
                SELECT 社員.名前, 部署.部署名, 部署.場所<br>
                FROM 社員<br>
                JOIN 部署 ON 社員.部署ID = 部署.部署ID;<br>
                <span class="code-comment">-- 社員の名前と、その人の部署情報を一緒に表示</span>
            </div>

            <p>結果：</p>
            <table class="simple-table">
                <thead>
                    <tr>
                        <th>名前</th>
                        <th>部署名</th>
                        <th>場所</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>田中太郎</td>
                        <td>営業部</td>
                        <td>3階</td>
                    </tr>
                    <tr>
                        <td>鈴木花子</td>
                        <td>営業部</td>
                        <td>3階</td>
                    </tr>
                </tbody>
            </table>

            <h2>関連の種類</h2>
            
            <div class="feature-grid">
                <div class="feature-card">
                    <h4>1対1の関係</h4>
                    <p>1人に1つのパスポート</p>
                    <p>社員 ↔ 社員証</p>
                </div>
                <div class="feature-card">
                    <h4>1対多の関係</h4>
                    <p>1つの部署に複数の社員</p>
                    <p>部署 → 社員（複数）</p>
                </div>
                <div class="feature-card">
                    <h4>多対多の関係</h4>
                    <p>学生と授業の関係</p>
                    <p>（中間テーブルが必要）</p>
                </div>
            
            <h2>主キーと外部キー</h2>
            
            <div class="concept-card">
                <h3>データベースの「つなぎ役」</h3>
                <p><strong>主キー（Primary Key）：</strong>各レコードを一意に識別する値</p>
                <p><strong>外部キー（Foreign Key）：</strong>他のテーブルの主キーを参照する値</p>
            </div>

            <h3>外部キーの仕組み</h3>
            
            <div class="visual-box">
                <pre style="font-size: 1rem;">
部署テーブル                社員テーブル
┌──────────┐            ┌──────────────┐
│部署ID(PK)│◀━━━━━━━━━━│部署ID(FK)    │
│D01       │            │D01           │
│D02       │            │D01           │
└──────────┘            │D02           │
                        └──────────────┘
PK = 主キー             FK = 外部キー
                </pre>
            </div>

            <h2>関係の種類と実装方法</h2>
            
            <div class="step-card">
                <h3>1対1の関係</h3>
                <p>例：社員と社員証</p>
                <div class="code-simple">
                    CREATE TABLE 社員 (<br>
                        社員ID INT PRIMARY KEY,<br>
                        氏名 VARCHAR(100)<br>
                    );<br><br>
                    CREATE TABLE 社員証 (<br>
                        社員証ID INT PRIMARY KEY,<br>
                        社員ID INT UNIQUE,  <span class="code-comment">-- UNIQUEで1対1を保証</span><br>
                        発行日 DATE,<br>
                        FOREIGN KEY (社員ID) REFERENCES 社員(社員ID)<br>
                    );
                </div>
            </div>

            <div class="step-card">
                <h3>1対多の関係</h3>
                <p>例：部署と社員（1つの部署に複数の社員）</p>
                <div class="code-simple">
                    CREATE TABLE 部署 (<br>
                        部署ID VARCHAR(10) PRIMARY KEY,<br>
                        部署名 VARCHAR(50)<br>
                    );<br><br>
                    CREATE TABLE 社員 (<br>
                        社員ID INT PRIMARY KEY,<br>
                        氏名 VARCHAR(100),<br>
                        部署ID VARCHAR(10),<br>
                        FOREIGN KEY (部署ID) REFERENCES 部署(部署ID)<br>
                    );
                </div>
            </div>

            <div class="step-card">
                <h3>多対多の関係</h3>
                <p>例：学生と授業（中間テーブルが必要）</p>
                <div class="code-simple">
                    CREATE TABLE 学生 (<br>
                        学生ID INT PRIMARY KEY,<br>
                        氏名 VARCHAR(100)<br>
                    );<br><br>
                    CREATE TABLE 授業 (<br>
                        授業ID INT PRIMARY KEY,<br>
                        授業名 VARCHAR(100)<br>
                    );<br><br>
                    <span class="code-comment">-- 中間テーブル（履修テーブル）</span><br>
                    CREATE TABLE 履修 (<br>
                        学生ID INT,<br>
                        授業ID INT,<br>
                        成績 VARCHAR(2),<br>
                        PRIMARY KEY (学生ID, 授業ID),<br>
                        FOREIGN KEY (学生ID) REFERENCES 学生(学生ID),<br>
                        FOREIGN KEY (授業ID) REFERENCES 授業(授業ID)<br>
                    );
                </div>
            </div>

            <h2>外部キー制約の動作</h2>
            
            <div class="example-box">
                <h4>CASCADE（カスケード）オプション</h4>
                <div class="code-simple">
                    FOREIGN KEY (部署ID) REFERENCES 部署(部署ID)<br>
                        ON DELETE CASCADE    <span class="code-comment">-- 部署削除時、社員も削除</span><br>
                        ON UPDATE CASCADE    <span class="code-comment">-- 部署ID変更時、社員も更新</span><br><br>
                    
                    <span class="code-comment">-- その他のオプション</span><br>
                    ON DELETE RESTRICT   <span class="code-comment">-- 社員がいる部署は削除不可</span><br>
                    ON DELETE SET NULL   <span class="code-comment">-- 部署削除時、社員の部署IDをNULLに</span>
                </div>
            </div>

            <div class="point-box">
                <strong>💡 外部キーを使う理由：</strong>
                <ul>
                    <li>データの整合性を自動的に保つ</li>
                    <li>存在しない値を参照できない</li>
                    <li>親テーブルの変更が子テーブルに反映される</li>
                    <li>不正なデータの入力を防げる</li>
                </ul>
            </div>
        </div>
	</div>
        <!-- スライド11: 実践的な正規化の例 -->
        <div class="slide">
            <h1>📝 実践：図書管理システムを正規化する</h1>
            
            <h2>正規化前のテーブル</h2>
            
            <div class="example-box">
                <h4>すべてを1つのテーブルに入れた場合</h4>
                <table class="simple-table" style="font-size: 0.9rem;">
                    <thead>
                        <tr>
                            <th>貸出ID</th>
                            <th>会員名</th>
                            <th>会員住所</th>
                            <th>電話</th>
                            <th>書籍名</th>
                            <th>著者</th>
                            <th>出版社</th>
                            <th>ISBN</th>
                            <th>貸出日</th>
                            <th>返却予定</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>001</td>
                            <td>田中太郎</td>
                            <td>東京都...</td>
                            <td>090-1111</td>
                            <td>データベース入門</td>
                            <td>山田一郎</td>
                            <td>技術出版</td>
                            <td>978-4...</td>
                            <td>2024-01-10</td>
                            <td>2024-01-24</td>
                        </tr>
                        <tr>
                            <td>002</td>
                            <td>田中太郎</td>
                            <td>東京都...</td>
                            <td>090-1111</td>
                            <td>SQL基礎</td>
                            <td>鈴木二郎</td>
                            <td>学習社</td>
                            <td>978-5...</td>
                            <td>2024-01-10</td>
                            <td>2024-01-24</td>
                        </tr>
                    </tbody>
                </table>
                
                <div class="point-box" style="background: #fee2e2; border-color: #ef4444;">
                    <strong>問題点：</strong>
                    <ul>
                        <li>田中太郎の情報が重複している</li>
                        <li>書籍情報も借りるたびに重複</li>
                        <li>会員の住所変更時、全レコード更新が必要</li>
                    </ul>
                </div>
            </div>

            <h2>ステップ1：エンティティを識別</h2>
            
            <div class="feature-grid">
                <div class="feature-card">
                    <h4>👤 会員</h4>
                    <p>図書館の利用者</p>
                    <ul>
                        <li>会員ID</li>
                        <li>氏名</li>
                        <li>住所</li>
                        <li>電話番号</li>
                    </ul>
                </div>
                <div class="feature-card">
                    <h4>📚 書籍</h4>
                    <p>図書館の蔵書</p>
                    <ul>
                        <li>書籍ID</li>
                        <li>書籍名</li>
                        <li>著者</li>
                        <li>出版社</li>
                        <li>ISBN</li>
                    </ul>
                </div>
                <div class="feature-card">
                    <h4>📋 貸出</h4>
                    <p>貸出の記録</p>
                    <ul>
                        <li>貸出ID</li>
                        <li>会員ID</li>
                        <li>書籍ID</li>
                        <li>貸出日</li>
                        <li>返却予定日</li>
                    </ul>
                </div>
            </div>

            <h2>ステップ2：ER図を作成</h2>
            
            <div class="visual-box">
                <pre style="font-size: 0.9rem;">
    [会員]                [貸出]                [書籍]
      │                     │                     │
    ○会員ID(PK)         ○貸出ID(PK)         ○書籍ID(PK)
    ○氏名              ○会員ID(FK)         ○書籍名
    ○住所              ○書籍ID(FK)         ○著者
    ○電話              ○貸出日             ○出版社
      │                ○返却予定日          ○ISBN
      │                     │                     │
      └────── 1対多 ────────┴────── 多対1 ────────┘
      
    1人の会員 → 複数の貸出
    1冊の書籍 → 複数回の貸出（時期が違えば）
                </pre>
            </div>

            <h2>ステップ3：正規化されたテーブル作成</h2>
            
            <div class="code-simple">
                <span class="code-comment">-- 会員テーブル（会員の基本情報）</span><br>
                CREATE TABLE 会員 (<br>
                    会員ID INT PRIMARY KEY AUTO_INCREMENT,<br>
                    氏名 VARCHAR(100) NOT NULL,<br>
                    住所 VARCHAR(200),<br>
                    電話 VARCHAR(20),<br>
                    登録日 DATE DEFAULT CURRENT_DATE<br>
                );<br><br>
                
                <span class="code-comment">-- 書籍テーブル（書籍の基本情報）</span><br>
                CREATE TABLE 書籍 (<br>
                    書籍ID INT PRIMARY KEY AUTO_INCREMENT,<br>
                    ISBN VARCHAR(20) UNIQUE,<br>
                    書籍名 VARCHAR(200) NOT NULL,<br>
                    著者 VARCHAR(100),<br>
                    出版社 VARCHAR(100),<br>
                    購入日 DATE<br>
                );<br><br>
                
                <span class="code-comment">-- 貸出テーブル（貸出の記録）</span><br>
                CREATE TABLE 貸出 (<br>
                    貸出ID INT PRIMARY KEY AUTO_INCREMENT,<br>
                    会員ID INT NOT NULL,<br>
                    書籍ID INT NOT NULL,<br>
                    貸出日 DATE DEFAULT CURRENT_DATE,<br>
                    返却予定日 DATE,<br>
                    返却日 DATE,  <span class="code-comment">-- NULL = 未返却</span><br>
                    FOREIGN KEY (会員ID) REFERENCES 会員(会員ID),<br>
                    FOREIGN KEY (書籍ID) REFERENCES 書籍(書籍ID)<br>
                );
            </div>

            <h3>正規化の効果</h3>
            
            <div class="comparison-grid">
                <div class="comparison-card good">
                    <h4>✅ メリット</h4>
                    <ul>
                        <li>会員情報の重複なし</li>
                        <li>書籍情報の重複なし</li>
                        <li>住所変更は1箇所だけ</li>
                        <li>データ量が削減</li>
                    </ul>
                </div>
                <div class="comparison-card">
                    <h4>📊 必要なクエリ</h4>
                    <div class="code-simple" style="background: #f3f4f6; color: #333;">
                        <span class="code-comment">-- 貸出中の本を確認</span><br>
                        SELECT 会員.氏名, 書籍.書籍名<br>
                        FROM 貸出<br>
                        JOIN 会員 ON 貸出.会員ID = 会員.会員ID<br>
                        JOIN 書籍 ON 貸出.書籍ID = 書籍.書籍ID<br>
                        WHERE 貸出.返却日 IS NULL;
                    </div>
                </div>
            </div>
        </div>

        <!-- 元のスライド8以降（番号調整済み） -->
        <!-- スライド12: データを集計する -->
        <div class="slide">
            <h1>📊 データを集計する</h1>
            
            <h2>集計関数とは？</h2>
            <p>複数のデータをまとめて計算する機能です。合計、平均、最大値などを簡単に求められます。</p>

            <h3>主な集計関数</h3>
            
            <div class="step-card">
                <h3>COUNT - 件数を数える</h3>
                <div class="code-simple">
                    SELECT COUNT(*) FROM 社員;<br>
                    <span class="code-comment">-- 社員の総数を数える → 結果: 10</span><br><br>
                    
                    SELECT COUNT(*) FROM 社員 WHERE 部署 = '営業部';<br>
                    <span class="code-comment">-- 営業部の人数を数える → 結果: 3</span>
                </div>
            </div>

            <div class="step-card">
                <h3>SUM - 合計を計算</h3>
                <div class="code-simple">
                    SELECT SUM(給与) FROM 社員;<br>
                    <span class="code-comment">-- 全社員の給与の合計 → 結果: 3,200,000</span><br><br>
                    
                    SELECT SUM(給与) FROM 社員 WHERE 部署 = '営業部';<br>
                    <span class="code-comment">-- 営業部の給与合計 → 結果: 900,000</span>
                </div>
            </div>

            <div class="step-card">
                <h3>AVG - 平均を計算</h3>
                <div class="code-simple">
                    SELECT AVG(給与) FROM 社員;<br>
                    <span class="code-comment">-- 全社員の平均給与 → 結果: 320,000</span><br><br>
                    
                    SELECT AVG(年齢) FROM 社員;<br>
                    <span class="code-comment">-- 平均年齢 → 結果: 32.5</span>
                </div>
            </div>

            <div class="step-card">
                <h3>MAX / MIN - 最大値・最小値</h3>
                <div class="code-simple">
                    SELECT MAX(給与) FROM 社員;<br>
                    <span class="code-comment">-- 最高給与 → 結果: 450,000</span><br><br>
                    
                    SELECT MIN(入社年月日) FROM 社員;<br>
                    <span class="code-comment">-- 最も古い入社日 → 結果: 2015-04-01</span>
                </div>
            </div>

            <h2>GROUP BY - グループごとに集計</h2>
            <p>部署ごと、月ごとなど、グループに分けて集計できます。</p>

            <div class="code-simple">
                SELECT 部署, COUNT(*) as 人数, AVG(給与) as 平均給与<br>
                FROM 社員<br>
                GROUP BY 部署;<br>
                <span class="code-comment">-- 部署ごとの人数と平均給与</span>
            </div>

            <p>結果：</p>
            <table class="simple-table">
                <thead>
                    <tr>
                        <th>部署</th>
                        <th>人数</th>
                        <th>平均給与</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>営業部</td>
                        <td>3</td>
                        <td>300,000</td>
                    </tr>
                    <tr>
                        <td>経理部</td>
                        <td>2</td>
                        <td>310,000</td>
                    </tr>
                    <tr>
                        <td>開発部</td>
                        <td>5</td>
                        <td>340,000</td>
                    </tr>
                </tbody>
            </table>

            <h3>HAVING - 集計結果に条件をつける</h3>
            <div class="code-simple">
                SELECT 部署, COUNT(*) as 人数<br>
                FROM 社員<br>
                GROUP BY 部署<br>
                HAVING COUNT(*) >= 3;<br>
                <span class="code-comment">-- 3人以上いる部署だけ表示</span>
            </div>

            <div class="point-box">
                <strong>💡 WHEREとHAVINGの違い：</strong>
                <ul>
                    <li><strong>WHERE：</strong>集計前の個別データに対する条件</li>
                    <li><strong>HAVING：</strong>集計後の結果に対する条件</li>
                </ul>
            </div>
        </div>

        <!-- スライド9: インデックスの基礎 -->
        <div class="slide">
            <h1>⚡ データベースを速くする - インデックス</h1>
            
            <h2>インデックスとは？</h2>
            <p>本の索引（さくいん）のように、データを素早く見つけるための仕組みです。</p>

            <div class="example-box">
                <h4>📚 辞書で「りんご」を探すとき</h4>
                <ul>
                    <li>❌ インデックスなし：1ページ目から順番に全部見る → 遅い</li>
                    <li>✅ インデックスあり：「ら行」のページを開く → 速い！</li>
                </ul>
            </div>

            <h3>インデックスの効果</h3>
            <div class="visual-box">
                <p>100万件のデータから1件を探す場合</p>
                <p style="color: #ef4444;">インデックスなし: 約 1秒</p>
                <p style="color: #10b981;">インデックスあり: 約 0.001秒</p>
                <p>→ <strong>1000倍速い！</strong></p>
            </div>

            <h2>インデックスの作り方</h2>
            
            <h3>基本的な作成方法</h3>
            <div class="code-simple">
                CREATE INDEX idx_name ON 社員(名前);<br>
                <span class="code-comment">-- 名前での検索を速くする</span><br><br>
                
                CREATE INDEX idx_dept ON 社員(部署);<br>
                <span class="code-comment">-- 部署での検索を速くする</span>
            </div>

            <h3>どこにインデックスを作るべき？</h3>
            
            <div class="comparison-grid">
                <div class="comparison-card good">
                    <h4>✅ インデックスが有効な場合</h4>
                    <ul>
                        <li>よく検索条件に使う列</li>
                        <li>JOINで結合に使う列</li>
                        <li>並び替えに使う列</li>
                        <li>値の種類が多い列（社員ID、メールアドレス）</li>
                    </ul>
                </div>
                <div class="comparison-card bad">
                    <h4>❌ インデックスが不要な場合</h4>
                    <ul>
                        <li>めったに検索しない列</li>
                        <li>値の種類が少ない列（性別、都道府県）</li>
                        <li>頻繁に更新される列</li>
                        <li>データ件数が少ないテーブル</li>
                    </ul>
                </div>
            </div>

            <h3>主キーには自動的にインデックスが作られる</h3>
            <div class="code-simple">
                CREATE TABLE 商品 (<br>
                    商品ID INT PRIMARY KEY,  <span class="code-comment">-- 自動でインデックス作成</span><br>
                    商品名 VARCHAR(100),<br>
                    価格 INT<br>
                );
            </div>

            <h2>インデックスの注意点</h2>
            
            <div class="point-box">
                <strong>⚠️ インデックスのデメリット：</strong>
                <ul>
                    <li>データの追加・更新・削除が少し遅くなる（インデックスも更新が必要）</li>
                    <li>ディスク容量を使う（索引の分だけ）</li>
                    <li>多すぎると逆に遅くなることも</li>
                </ul>
                <p>→ 必要な箇所だけに適切に作ることが大切！</p>
            </div>

            <h3>実際の使用例</h3>
            <div class="code-simple">
                <span class="code-comment">-- ECサイトの注文テーブル</span><br>
                CREATE TABLE 注文 (<br>
                    注文ID INT PRIMARY KEY,<br>
                    顧客ID INT,<br>
                    注文日 DATE,<br>
                    商品ID INT,<br>
                    数量 INT<br>
                );<br><br>
                
                <span class="code-comment">-- よく使う検索に合わせてインデックス作成</span><br>
                CREATE INDEX idx_customer ON 注文(顧客ID);  <span class="code-comment">-- 顧客の注文履歴</span><br>
                CREATE INDEX idx_date ON 注文(注文日);       <span class="code-comment">-- 期間別の売上</span><br>
                CREATE INDEX idx_product ON 注文(商品ID);    <span class="code-comment">-- 商品の売れ行き</span>
            </div>
        </div>

        <!-- スライド10: トランザクション -->
        <div class="slide">
            <h1>🔒 データの安全性を守る - トランザクション</h1>
            
            <h2>トランザクションとは？</h2>
            <p>複数の処理をひとまとめにして、「全部成功」か「全部失敗」のどちらかにする仕組みです。</p>

            <div class="example-box">
                <h4>💰 銀行の振込を例に考える</h4>
                <p>Aさんの口座からBさんの口座に1万円を振り込む場合：</p>
                <ol>
                    <li>Aさんの口座から1万円を引く</li>
                    <li>Bさんの口座に1万円を足す</li>
                </ol>
                <p>もし1の後でシステムがエラーになったら？</p>
                <p>→ Aさんのお金だけ減って、Bさんには届かない！</p>
                <p><strong>これを防ぐのがトランザクション</strong></p>
            </div>

            <h2>トランザクションの使い方</h2>

            <div class="code-simple">
                BEGIN;  <span class="code-comment">-- トランザクション開始</span><br><br>
                
                UPDATE 口座 SET 残高 = 残高 - 10000 WHERE 口座番号 = 'A001';<br>
                UPDATE 口座 SET 残高 = 残高 + 10000 WHERE 口座番号 = 'B002';<br><br>
                
                COMMIT;  <span class="code-comment">-- 成功したら確定</span><br>
                <span class="code-comment">-- または</span><br>
                ROLLBACK;  <span class="code-comment">-- 失敗したら全部取り消し</span>
            </div>

            <h3>トランザクションの流れ</h3>
            <div class="step-card">
                <span class="step-number">1</span> BEGIN - 開始を宣言
            </div>
            <div class="step-card">
                <span class="step-number">2</span> 複数のSQL文を実行
            </div>
            <div class="step-card">
                <span class="step-number">3</span> 全て成功 → COMMIT（確定）
            </div>
            <div class="step-card">
                <span class="step-number">4</span> エラー発生 → ROLLBACK（取り消し）
            </div>

            <h2>ACID特性</h2>
            <p>トランザクションが守るべき4つの性質です。</p>

            <div class="feature-grid">
                <div class="feature-card">
                    <h4>A - Atomicity（原子性）</h4>
                    <p>全部成功か全部失敗</p>
                    <p>中途半端な状態にならない</p>
                </div>
                <div class="feature-card">
                    <h4>C - Consistency（一貫性）</h4>
                    <p>データの整合性が保たれる</p>
                    <p>ルールに反する状態にならない</p>
                </div>
                <div class="feature-card">
                    <h4>I - Isolation（独立性）</h4>
                    <p>他の処理の影響を受けない</p>
                    <p>同時実行でも正しく動く</p>
                </div>
                <div class="feature-card">
                    <h4>D - Durability（永続性）</h4>
                    <p>確定したデータは消えない</p>
                    <p>電源が切れても残る</p>
                </div>
            </div>

            <h3>実用例：ECサイトの注文処理</h3>
            <div class="code-simple">
                BEGIN;<br><br>
                
                <span class="code-comment">-- 1. 在庫を減らす</span><br>
                UPDATE 商品 SET 在庫数 = 在庫数 - 1 WHERE 商品ID = 100;<br><br>
                
                <span class="code-comment">-- 2. 注文を記録</span><br>
                INSERT INTO 注文 (顧客ID, 商品ID, 注文日) <br>
                VALUES (1, 100, '2024-01-15');<br><br>
                
                <span class="code-comment">-- 3. 売上を計上</span><br>
                UPDATE 売上 SET 金額 = 金額 + 3000 WHERE 日付 = '2024-01-15';<br><br>
                
                <span class="code-comment">-- 全て成功したら</span><br>
                COMMIT;<br>
                <span class="code-comment">-- どれか失敗したら</span><br>
                ROLLBACK;
            </div>

            <div class="point-box">
                <strong>💡 まとめ：</strong>
                トランザクションは、データの一貫性と信頼性を保つための重要な仕組みです。
                特に金融系やECサイトなど、データの整合性が重要なシステムでは必須の機能です。
            </div>
        </div>

        <!-- スライド11: バックアップとリカバリ -->
        <div class="slide">
            <h1>💾 データを守る - バックアップ</h1>
            
            <h2>なぜバックアップが必要？</h2>
            
            <div class="example-box">
                <h4>⚠️ データが失われる原因</h4>
                <ul>
                    <li>ハードディスクの故障</li>
                    <li>誤ってデータを削除</li>
                    <li>ウイルスやランサムウェア</li>
                    <li>自然災害（地震、火災、水害）</li>
                    <li>人為的ミス（間違ったSQL実行）</li>
                </ul>
            </div>

            <h2>バックアップの種類</h2>
            
            <div class="step-card">
                <h3>📸 フルバックアップ</h3>
                <p>データベースの全データをまるごと保存</p>
                <ul>
                    <li>✅ 復元が簡単で確実</li>
                    <li>❌ 時間がかかる、容量が大きい</li>
                </ul>
                <p>実施タイミング：週1回（日曜深夜など）</p>
            </div>

            <div class="step-card">
                <h3>📝 差分バックアップ</h3>
                <p>前回のフルバックアップから変更された部分だけ保存</p>
                <ul>
                    <li>✅ フルバックアップより速い</li>
                    <li>❌ 日が経つほど容量が増える</li>
                </ul>
                <p>実施タイミング：毎日</p>
            </div>

            <div class="step-card">
                <h3>📄 増分バックアップ</h3>
                <p>前回のバックアップ（どの種類でも）から変更された部分だけ保存</p>
                <ul>
                    <li>✅ 最も速い、容量最小</li>
                    <li>❌ 復元に全てのバックアップが必要</li>
                </ul>
                <p>実施タイミング：1時間ごと</p>
            </div>

            <h2>バックアップの実例</h2>
            
            <div class="visual-box">
                <h4>1週間のバックアップスケジュール</h4>
                <p>日曜：フルバックアップ（全データ）</p>
                <p>月曜：差分バックアップ（日曜からの変更分）</p>
                <p>火曜：差分バックアップ（日曜からの変更分）</p>
                <p>水曜：差分バックアップ（日曜からの変更分）</p>
                <p>...</p>
            </div>

            <h3>3-2-1ルール</h3>
            <div class="concept-card">
                <h3>バックアップのベストプラクティス</h3>
                <p><strong>3</strong> - データのコピーを3つ持つ（本体 + バックアップ2つ）</p>
                <p><strong>2</strong> - 2種類の異なるメディアに保存（HDD + クラウドなど）</p>
                <p><strong>1</strong> - 1つは別の場所に保管（災害対策）</p>
            </div>

            <h2>復元（リストア）の手順</h2>
            
            <ol>
                <li>現在のデータベースを停止</li>
                <li>破損したデータを退避（念のため）</li>
                <li>バックアップからデータを復元</li>
                <li>データベースを再起動</li>
                <li>データの整合性を確認</li>
            </ol>

            <div class="code-simple">
                <span class="code-comment">-- MySQLの例</span><br>
                <span class="code-comment">-- バックアップ作成</span><br>
                mysqldump データベース名 > backup_20240115.sql<br><br>
                
                <span class="code-comment">-- 復元</span><br>
                mysql データベース名 < backup_20240115.sql
            </div>

            <div class="point-box">
                <strong>💡 重要：</strong>
                <ul>
                    <li>バックアップは定期的に実施（自動化推奨）</li>
                    <li>復元テストを定期的に実施（本当に復元できるか確認）</li>
                    <li>バックアップファイルの保管期間を決める（例：3ヶ月）</li>
                </ul>
            </div>
        </div>

        <!-- スライド12: セキュリティの基礎 -->
        <div class="slide">
            <h1>🔐 データベースのセキュリティ</h1>
            
            <h2>なぜセキュリティが重要？</h2>
            
            <div class="example-box">
                <h4>😱 データベースが狙われる理由</h4>
                <ul>
                    <li>個人情報（氏名、住所、クレジットカード）</li>
                    <li>企業の機密情報（売上、顧客リスト）</li>
                    <li>パスワードやログイン情報</li>
                </ul>
                <p>→ これらが漏れると大変な被害に！</p>
            </div>

            <h2>基本的なセキュリティ対策</h2>
            
            <div class="step-card">
                <h3>1. ユーザー権限の管理</h3>
                <p>必要最小限の権限だけを与える</p>
                <div class="code-simple">
                    <span class="code-comment">-- 読み取り専用ユーザー</span><br>
                    CREATE USER 'viewer'@'localhost' IDENTIFIED BY 'password';<br>
                    GRANT SELECT ON データベース.* TO 'viewer'@'localhost';<br><br>
                    
                    <span class="code-comment">-- 更新もできるユーザー</span><br>
                    CREATE USER 'editor'@'localhost' IDENTIFIED BY 'password';<br>
                    GRANT SELECT, INSERT, UPDATE ON データベース.* TO 'editor'@'localhost';
                </div>
            </div>

            <div class="step-card">
                <h3>2. パスワード管理</h3>
                <ul>
                    <li>✅ 8文字以上の複雑なパスワード</li>
                    <li>✅ 大文字・小文字・数字・記号を含む</li>
                    <li>✅ 定期的に変更する</li>
                    <li>❌ 「password」「123456」などの単純なもの</li>
                    <li>❌ 個人情報（誕生日、名前）を使う</li>
                </ul>
            </div>

            <div class="step-card">
                <h3>3. SQLインジェクション対策</h3>
                <p>悪意のあるSQLコードを実行されないようにする</p>
                
                <div class="comparison-grid">
                    <div class="comparison-card bad">
                        <h4>❌ 危険な例</h4>
                        <div class="code-simple" style="background: #fee2e2; color: #333;">
                            name = "'; DROP TABLE users; --"<br>
                            SQL = "SELECT * FROM users WHERE name = '" + name + "'"
                        </div>
                    </div>
                    <div class="comparison-card good">
                        <h4>✅ 安全な例</h4>
                        <div class="code-simple" style="background: #d1fae5; color: #333;">
                            プリペアドステートメントを使用<br>
                            "SELECT * FROM users WHERE name = ?"
                        </div>
                    </div>
                </div>
            </div>

            <h2>データの暗号化</h2>
            
            <div class="feature-grid">
                <div class="feature-card">
                    <h4>通信の暗号化</h4>
                    <p>SSL/TLSを使って通信を暗号化</p>
                    <p>盗聴されても内容が分からない</p>
                </div>
                <div class="feature-card">
                    <h4>保存データの暗号化</h4>
                    <p>重要なデータは暗号化して保存</p>
                    <p>特にパスワードは必ずハッシュ化</p>
                </div>
            </div>

            <h3>アクセスログの記録</h3>
            <p>誰が、いつ、何をしたかを記録する</p>
            
            <div class="code-simple">
                <span class="code-comment">-- ログテーブルの例</span><br>
                CREATE TABLE アクセスログ (<br>
                    ログID INT PRIMARY KEY AUTO_INCREMENT,<br>
                    ユーザー名 VARCHAR(50),<br>
                    操作内容 VARCHAR(200),<br>
                    実行時刻 DATETIME,<br>
                    IPアドレス VARCHAR(15)<br>
                );
            </div>

            <div class="point-box">
                <strong>🔒 セキュリティのチェックリスト：</strong>
                <ul>
                    <li>□ 強いパスワードを設定した</li>
                    <li>□ 不要なユーザーを削除した</li>
                    <li>□ 権限を最小限にした</li>
                    <li>□ 定期的にバックアップを取っている</li>
                    <li>□ アクセスログを記録している</li>
                    <li>□ セキュリティアップデートを適用している</li>
                </ul>
            </div>
        </div>

        <!-- スライド13: 実践例 -->
        <div class="slide">
            <h1>🛍️ 実践例：簡単なショッピングサイトのDB設計</h1>
            
            <h2>必要なテーブルを考える</h2>
            
            <div class="feature-grid">
                <div class="feature-card">
                    <h4>👤 顧客テーブル</h4>
                    <p>会員情報を管理</p>
                    <ul>
                        <li>顧客ID</li>
                        <li>名前</li>
                        <li>メールアドレス</li>
                        <li>住所</li>
                        <li>登録日</li>
                    </ul>
                </div>
                <div class="feature-card">
                    <h4>📦 商品テーブル</h4>
                    <p>販売する商品の情報</p>
                    <ul>
                        <li>商品ID</li>
                        <li>商品名</li>
                        <li>価格</li>
                        <li>在庫数</li>
                        <li>カテゴリ</li>
                    </ul>
                </div>
                <div class="feature-card">
                    <h4>🛒 注文テーブル</h4>
                    <p>注文の基本情報</p>
                    <ul>
                        <li>注文ID</li>
                        <li>顧客ID</li>
                        <li>注文日時</li>
                        <li>合計金額</li>
                        <li>配送状況</li>
                    </ul>
                </div>
                <div class="feature-card">
                    <h4>📝 注文明細テーブル</h4>
                    <p>注文の詳細</p>
                    <ul>
                        <li>明細ID</li>
                        <li>注文ID</li>
                        <li>商品ID</li>
                        <li>数量</li>
                        <li>小計</li>
                    </ul>
                </div>
            </div>

            <h2>テーブルの関連</h2>
            
            <div class="visual-box">
                <p>顧客 ← 1対多 → 注文</p>
                <p>注文 ← 1対多 → 注文明細</p>
                <p>商品 ← 1対多 → 注文明細</p>
            </div>

            <h3>実際のSQL</h3>
            
            <div class="code-simple">
                <span class="code-comment">-- 顧客テーブル</span><br>
                CREATE TABLE 顧客 (<br>
                    顧客ID INT PRIMARY KEY AUTO_INCREMENT,<br>
                    名前 VARCHAR(100) NOT NULL,<br>
                    メール VARCHAR(255) UNIQUE NOT NULL,<br>
                    住所 VARCHAR(500),<br>
                    登録日 DATE DEFAULT CURRENT_DATE<br>
                );<br><br>
                
                <span class="code-comment">-- 商品テーブル</span><br>
                CREATE TABLE 商品 (<br>
                    商品ID INT PRIMARY KEY AUTO_INCREMENT,<br>
                    商品名 VARCHAR(200) NOT NULL,<br>
                    価格 INT NOT NULL,<br>
                    在庫数 INT DEFAULT 0,<br>
                    カテゴリ VARCHAR(50)<br>
                );<br><br>
                
                <span class="code-comment">-- 注文テーブル</span><br>
                CREATE TABLE 注文 (<br>
                    注文ID INT PRIMARY KEY AUTO_INCREMENT,<br>
                    顧客ID INT,<br>
                    注文日時 DATETIME DEFAULT CURRENT_TIMESTAMP,<br>
                    合計金額 INT,<br>
                    配送状況 VARCHAR(20) DEFAULT '準備中',<br>
                    FOREIGN KEY (顧客ID) REFERENCES 顧客(顧客ID)<br>
                );
            </div>

            <h3>よく使うクエリの例</h3>
            
            <div class="code-simple">
                <span class="code-comment">-- 特定の顧客の注文履歴</span><br>
                SELECT * FROM 注文 WHERE 顧客ID = 1 ORDER BY 注文日時 DESC;<br><br>
                
                <span class="code-comment">-- 売れ筋商品TOP3</span><br>
                SELECT 商品名, SUM(数量) as 販売数<br>
                FROM 注文明細<br>
                JOIN 商品 ON 注文明細.商品ID = 商品.商品ID<br>
                GROUP BY 商品ID<br>
                ORDER BY 販売数 DESC<br>
                LIMIT 3;<br><br>
                
                <span class="code-comment">-- 在庫切れ商品</span><br>
                SELECT * FROM 商品 WHERE 在庫数 = 0;
            </div>
        </div>

        <!-- スライド14: よくある間違いと対策 -->
        <div class="slide">
            <h1>⚠️ よくある間違いと対策</h1>
            
            <h2>初心者がやりがちなミス</h2>
            
            <div class="step-card">
                <h3>😱 ミス1：WHERE句を忘れる</h3>
                <div class="comparison-grid">
                    <div class="comparison-card bad">
                        <h4>❌ 危険</h4>
                        <div class="code-simple" style="background: #fee2e2; color: #333;">
                            DELETE FROM 社員;<br>
                            <span class="code-comment">-- 全員削除される！</span>
                        </div>
                    </div>
                    <div class="comparison-card good">
                        <h4>✅ 正しい</h4>
                        <div class="code-simple" style="background: #d1fae5; color: #333;">
                            DELETE FROM 社員<br>
                            WHERE 社員ID = 'E001';
                        </div>
                    </div>
                </div>
                <p><strong>対策：</strong>まずSELECTで確認してからDELETE/UPDATEする</p>
            </div>

            <div class="step-card">
                <h3>😵 ミス2：データ型の不一致</h3>
                <div class="comparison-grid">
                    <div class="comparison-card bad">
                        <h4>❌ エラーになる</h4>
                        <div class="code-simple" style="background: #fee2e2; color: #333;">
                            INSERT INTO 社員 (年齢)<br>
                            VALUES ('二十五歳');
                        </div>
                    </div>
                    <div class="comparison-card good">
                        <h4>✅ 正しい</h4>
                        <div class="code-simple" style="background: #d1fae5; color: #333;">
                            INSERT INTO 社員 (年齢)<br>
                            VALUES (25);
                        </div>
                    </div>
                </div>
                <p><strong>対策：</strong>テーブル定義を確認してから入力</p>
            </div>

            <div class="step-card">
                <h3>🔄 ミス3：無限ループになるJOIN</h3>
                <p>結合条件を忘れると、全組み合わせが出てしまう</p>
                <div class="code-simple">
                    <span class="code-comment">-- ❌ 結合条件なし（デカルト積）</span><br>
                    SELECT * FROM 社員, 部署;<br>
                    <span class="code-comment">-- 社員10人×部署5個 = 50行！</span><br><br>
                    
                    <span class="code-comment">-- ✅ 正しい結合</span><br>
                    SELECT * FROM 社員<br>
                    JOIN 部署 ON 社員.部署ID = 部署.部署ID;
                </div>
            </div>

            <div class="step-card">
                <h3>💾 ミス4：バックアップを取らない</h3>
                <p>「後で取ればいい」→ その前に障害発生！</p>
                <p><strong>対策：</strong></p>
                <ul>
                    <li>自動バックアップを設定</li>
                    <li>重要な変更前は必ず手動バックアップ</li>
                    <li>定期的に復元テストを実施</li>
                </ul>
            </div>

            <h2>トラブル時の対処法</h2>
            
            <div class="feature-grid">
                <div class="feature-card">
                    <h4>🐌 処理が遅い</h4>
                    <ul>
                        <li>インデックスを確認</li>
                        <li>不要なデータを削除</li>
                        <li>クエリを最適化</li>
                    </ul>
                </div>
                <div class="feature-card">
                    <h4>🚫 接続できない</h4>
                    <ul>
                        <li>サービスが起動しているか</li>
                        <li>ユーザー名/パスワード確認</li>
                        <li>ファイアウォール設定</li>
                    </ul>
                </div>
                <div class="feature-card">
                    <h4>💥 データが壊れた</h4>
                    <ul>
                        <li>バックアップから復元</li>
                        <li>修復コマンドを実行</li>
                        <li>最悪は再構築</li>
                    </ul>
                </div>
                <div class="feature-card">
                    <h4>❓ エラーが出る</h4>
                    <ul>
                        <li>エラーメッセージを読む</li>
                        <li>構文を確認</li>
                        <li>権限を確認</li>
                    </ul>
                </div>
            </div>

            <div class="point-box">
                <strong>💡 失敗から学ぶ：</strong>
                <ul>
                    <li>ミスは誰でもする（プロでも！）</li>
                    <li>大切なのは同じミスを繰り返さないこと</li>
                    <li>テスト環境で練習してから本番へ</li>
                    <li>分からないことは調べる・聞く</li>
                </ul>
            </div>
        </div>

        <!-- スライド15: まとめと次のステップ -->
        <div class="slide">
            <h1>🎯 まとめと次のステップ</h1>
            
            <h2>今日学んだこと</h2>
            
            <div class="concept-card">
                <h3>基礎知識のおさらい</h3>
                <p>✅ データベースは「整理されたデータの保管庫」</p>
                <p>✅ テーブル（表）形式でデータを管理</p>
                <p>✅ SQLという言語でデータを操作</p>
                <p>✅ 複数のテーブルを関連付けて使う</p>
                <p>✅ インデックスで検索を高速化</p>
                <p>✅ トランザクションでデータの整合性を保つ</p>
                <p>✅ バックアップとセキュリティが重要</p>
            </div>

            <h2>習得したスキル</h2>
            
            <div class="feature-grid">
                <div class="feature-card">
                    <h4>📝 基本操作</h4>
                    <ul>
                        <li>SELECT（検索）</li>
                        <li>INSERT（追加）</li>
                        <li>UPDATE（更新）</li>
                        <li>DELETE（削除）</li>
                    </ul>
                </div>
                <div class="feature-card">
                    <h4>🔧 応用操作</h4>
                    <ul>
                        <li>JOIN（結合）</li>
                        <li>GROUP BY（集計）</li>
                        <li>ORDER BY（並び替え）</li>
                        <li>インデックス作成</li>
                    </ul>
                </div>
                <div class="feature-card">
                    <h4>🛡️ 管理技術</h4>
                    <ul>
                        <li>トランザクション</li>
                        <li>バックアップ</li>
                        <li>権限管理</li>
                        <li>セキュリティ対策</li>
                    </ul>
                </div>
            </div>

            <h2>次のステップ</h2>
            
            <div class="step-card">
                <h3>🎓 初級者向け</h3>
                <ul>
                    <li>実際にデータベースをインストールして触ってみる</li>
                    <li>簡単なテーブルを作って練習</li>
                    <li>SQLの基本コマンドを繰り返し練習</li>
                </ul>
            </div>

            <div class="step-card">
                <h3>📚 中級者向け</h3>
                <ul>
                    <li>正規化について学ぶ</li>
                    <li>ストアドプロシージャを書いてみる</li>
                    <li>パフォーマンスチューニングを学ぶ</li>
                    <li>NoSQLデータベースも触ってみる</li>
                </ul>
            </div>

            <div class="step-card">
                <h3>🚀 上級者向け</h3>
                <ul>
                    <li>レプリケーション・クラスタリング</li>
                    <li>大規模データの処理方法</li>
                    <li>クラウドデータベースの活用</li>
                    <li>データウェアハウス・ビッグデータ</li>
                </ul>
            </div>

            <h2>練習用の環境</h2>
            
            <div class="example-box">
                <h4>無料で試せるデータベース</h4>
                <ul>
                    <li><strong>MySQL：</strong>最も人気のあるオープンソースDB</li>
                    <li><strong>PostgreSQL：</strong>高機能なオープンソースDB</li>
                    <li><strong>SQLite：</strong>インストール不要の軽量DB</li>
                    <li><strong>オンライン環境：</strong>SQLiteOnline, DB Fiddleなど</li>
                </ul>
            </div>

            <div class="point-box">
                <strong>🌟 最後のアドバイス：</strong>
                <ul>
                    <li>実際に手を動かして練習することが一番大切</li>
                    <li>エラーを恐れずに、たくさん試してみる</li>
                    <li>分からないことはドキュメントを読む習慣を</li>
                    <li>コミュニティやフォーラムを活用する</li>
                </ul>
                <p style="text-align: center; margin-top: 20px; font-size: 1.2rem;">
                    <strong>データベースをマスターして、<br>
                    素晴らしいアプリケーションを作りましょう！</strong>
                </p>
            </div>
        </div>


        <!-- コントロール -->
        <div class="controls">
            <button class="nav-button" id="prevBtn" onclick="changeSlide(-1)">← 前へ</button>
            <span class="slide-counter">
                <span id="currentSlide">1</span> / <span id="totalSlides">18</span>
            </span>
            <button class="nav-button" id="nextBtn" onclick="changeSlide(1)">次へ →</button>
        </div>
    </div>

    <script>
        let currentSlide = 1;
        const totalSlides = document.querySelectorAll('.slide').length;
        
        document.getElementById('totalSlides').textContent = totalSlides;

        function showSlide(n) {
            const slides = document.querySelectorAll('.slide');
            
            if (n > totalSlides) { currentSlide = totalSlides; }
            if (n < 1) { currentSlide = 1; }
            
            slides.forEach(slide => slide.classList.remove('active'));
            slides[currentSlide - 1].classList.add('active');
            
            document.getElementById('currentSlide').textContent = currentSlide;
            
            // ボタンの有効/無効
            document.getElementById('prevBtn').disabled = currentSlide === 1;
            document.getElementById('nextBtn').disabled = currentSlide === totalSlides;
        }

        function changeSlide(direction) {
            currentSlide += direction;
            showSlide(currentSlide);
        }

        // キーボード操作
        document.addEventListener('keydown', function(event) {
            if (event.key === 'ArrowLeft') changeSlide(-1);
            if (event.key === 'ArrowRight') changeSlide(1);
            if (event.key === 'Home') {
                currentSlide = 1;
                showSlide(currentSlide);
            }
            if (event.key === 'End') {
                currentSlide = totalSlides;
                showSlide(currentSlide);
            }
        });

        // タッチ操作対応（モバイル）


        // 初期表示
        showSlide(currentSlide);
    </script>
</body>
</html>
     